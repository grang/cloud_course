{"remainingRequest":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/babel-loader/lib/index.js!/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohuang/Desktop/workspace/yuwen/static/app/src/components/base/header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/src/components/base/header.vue","mtime":1600509266445},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/cache-loader/dist/cjs.js","mtime":1599487559871},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/babel-loader/lib/index.js","mtime":1591927127910},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/cache-loader/dist/cjs.js","mtime":1599487559871},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/vue-loader/lib/index.js","mtime":1594622388787},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/cache-loader/dist/cjs.js","mtime":1599487559871},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/babel-loader/lib/index.js","mtime":1591927127910},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/cache-loader/dist/cjs.js","mtime":1599487559871},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/vue-loader/lib/index.js","mtime":1594622388787}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as types from '@/store/mutation-types.js';\nimport http from '@/fetch/http.js';\nimport router from '@/router';\nexport default {\n  name: 'header_box',\n  data: function data() {\n    return {};\n  },\n  created: function created() {\n    this.init();\n  },\n  methods: {\n    init: function init() {\n      var self = this;\n      var url = \"/common/curuser/\";\n      http.get(url).then(function (res) {\n        if (res.response == 'expired') {\n          self.$store.commit(types.LOGOUT);\n          window.location.href = '/logout/';\n        } else if (res.user && res.user.id) {\n          self.$store.commit(types.LOGIN, {\n            'user': res.user\n          });\n          self.$i18n.locale = res.user.language;\n          router.push({\n            'name': 'main'\n          });\n        }\n      });\n    },\n    logout: function logout() {\n      var self = this;\n      self.$store.commit(types.LOGOUT);\n      window.location.href = '/classware/logout/';\n    },\n    clickFullscreen: function clickFullscreen() {\n      this.$parent.fullScreen();\n    }\n  }\n};",{"version":3,"sources":["header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,KAAA,KAAA,MAAA,2BAAA;AACA,OAAA,IAAA,MAAA,iBAAA;AACA,OAAA,MAAA,MAAA,UAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA,EAAA;AAEA,GALA;AAMA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,IAAA;AACA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,GAAA,GAAA,kBAAA;AACA,MAAA,IAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,QAAA,IAAA,SAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,UAAA;AACA,SAHA,MAGA,IAAA,GAAA,CAAA,IAAA,IAAA,GAAA,CAAA,IAAA,CAAA,EAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,EAAA;AAAA,oBAAA,GAAA,CAAA;AAAA,WAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA;AACA,oBAAA;AADA,WAAA;AAGA;AACA,OAXA;AAYA,KAhBA;AAiBA,IAAA,MAjBA,oBAiBA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,oBAAA;AACA,KArBA;AAsBA,IAAA,eAtBA,6BAsBA;AACA,WAAA,OAAA,CAAA,UAAA;AACA;AAxBA;AATA,CAAA","sourcesContent":["<template>\n\t<div class=\"app-header\">\n\t\t<div class=\"header-logo\">\n\t          <img class=\"logo\" src=\"../../assets/images/title_logo.png\"/>\n        </div>\n      \n      <div class=\"nav-status hide\" v-if=\"$store.state.user.id\">;\n     \t\t<div class=\"username\"> {{$store.state.user.username}} </div>\n\t\t\t<div class=\"expired-time\">{{$t('message.expired_time')}}：{{$store.state.user.expire_date}}</div>\n\t\t\t<div class=\"logout\"><el-button class=\"logout-btn\" size=\"mini\" @click=\"logout\" plain>{{$t('message.logout')}}</el-button></div>\n      </div>\n      \n      <div class=\"nav-status\" v-if=\"$store.state.user && $store.state.user.id\">\n        \t<div class=\"quanping\" :title=\"$t('message.fullscreen')\"><i class=\"iconfont icon-quanping\" @click=\"clickFullscreen\"></i></div>\n        \t<el-dropdown trigger=\"click\" class=\"test\">\n\t\t    \t<span class=\"account-info\">\n\t\t      \t\t<i class=\"iconfont icon-user-info hide\" ></i>\n\t\t        \t{{$store.state.user.username}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\n\t\t    \t</span>\n\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\n\t\t\t\t\t<el-dropdown-item><div class=\"nav-my-item\"><i class=\"iconfont icon-expired\"></i>{{$t('message.expired_time')}}：{{$store.state.user.expire_date}}</div></el-dropdown-item>\n\t\t        \t<el-dropdown-item><div class=\"nav-my-item\" @click=\"logout\"><i class=\"iconfont icon-logout\"></i>{{$t('message.logout')}}</div></el-dropdown-item>\n\t\t    \t</el-dropdown-menu>\n\t\t\t</el-dropdown>\n\t\t</div>\n      \n      \n      \n    </div>\t\n</template>\n\n<script>\n\timport * as types from '@/store/mutation-types.js'\n\timport http from '@/fetch/http.js'\n\timport router from '@/router'\n    export default {\n    \tname:'header_box',\n    \tdata(){\n            return{\n            }\n        },\n        created: function(){\n        \tthis.init()\n    \t},\n        methods: {\n        \tinit(){\n        \t\tvar self = this;\n        \t\tvar url = \"/common/curuser/\";\n    \t\t\thttp.get(url).then(res => {\n    \t\t\t\tif(res.response=='expired'){\n    \t\t\t\t\tself.$store.commit(types.LOGOUT);\n    \t            \twindow.location.href = '/logout/';\n    \t\t\t\t}else if(res.user && res.user.id){\n    \t\t\t\t\tself.$store.commit(types.LOGIN, {'user': res.user});\n    \t\t\t\t\tself.$i18n.locale = res.user.language;\n    \t\t\t\t\trouter.push({\n    \t\t                'name': 'main'\n    \t\t            })\n    \t\t\t\t}\n    \t\t\t});\n        \t},\n            logout() {\n            \tvar self = this;\n\t\t\t\tself.$store.commit(types.LOGOUT);\n            \twindow.location.href = '/classware/logout/';\n            },\n            clickFullscreen() {\n   \t\t\t\tthis.$parent.fullScreen();\n    \t\t}\n        }\n    }\n\n</script>\n\n"],"sourceRoot":"src/components/base"}]}