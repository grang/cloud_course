{"remainingRequest":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohuang/Desktop/workspace/yuwen/static/app/src/views/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/src/views/login/login.vue","mtime":1599906719088},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/babel-loader/lib/index.js","mtime":1591927127910},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/cache-loader/dist/cjs.js","mtime":1599487559871},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/vue-loader/lib/index.js","mtime":1594622388787}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from '@/fetch/http.js'\nimport userConfig from '@/config'\nimport router from '@/router'\nimport * as types from '@/store/mutation-types.js'\n\nexport default {\n\tname: 'Login',\n\tdata () {\n\t\treturn {\n\t\t\tloginForm : {\n\t\t\t\tusername : '',\n\t\t\t\tpassword : ''\n\t\t\t},\n\t\t\tloading : false,\n\t\t\tversion : userConfig.version\n\t\t}\n\t},\n\tcreated () {},\n\tmounted () {\n\t\tthis.$refs.username.focus()\n\t},\n\tmethods: {\n\t\tlogin(event){\n\t\t\tvar self = this;\n\t\t\tself.loading = true\n\n\t\t\thttp.post('/login/', self.loginForm).then(res => {\n\t\t\t\tself.loading = false\n\t\t\t\tif (res.response == 'ok') {\n\t\t\t\t\trouter.push({\n\t\t\t\t\t\tname: 'main'\n\t\t\t\t\t})\n\t\t\t\t}else if(res.response=='expired'){\n\t\t\t\t\tself.$message.error(self.$t('errors.user_expired'))\n\t\t\t\t}else{\n\t\t\t\t\tself.$message.error(self.$t('errors.wrong_password'))\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n",null]}