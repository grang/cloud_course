{"remainingRequest":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohuang/Desktop/workspace/yuwen/static/app/src/components/base/header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/src/components/base/header.vue","mtime":1600509266445},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/cache-loader/dist/cjs.js","mtime":1599487559871},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/babel-loader/lib/index.js","mtime":1591927127910},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/cache-loader/dist/cjs.js","mtime":1599487559871},{"path":"/Users/guohuang/Desktop/workspace/yuwen/static/app/node_modules/vue-loader/lib/index.js","mtime":1594622388787}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport * as types from '@/store/mutation-types.js'\n\timport http from '@/fetch/http.js'\n\timport router from '@/router'\n    export default {\n    \tname:'header_box',\n    \tdata(){\n            return{\n            }\n        },\n        created: function(){\n        \tthis.init()\n    \t},\n        methods: {\n        \tinit(){\n        \t\tvar self = this;\n        \t\tvar url = \"/common/curuser/\";\n    \t\t\thttp.get(url).then(res => {\n    \t\t\t\tif(res.response=='expired'){\n    \t\t\t\t\tself.$store.commit(types.LOGOUT);\n    \t            \twindow.location.href = '/logout/';\n    \t\t\t\t}else if(res.user && res.user.id){\n    \t\t\t\t\tself.$store.commit(types.LOGIN, {'user': res.user});\n    \t\t\t\t\tself.$i18n.locale = res.user.language;\n    \t\t\t\t\trouter.push({\n    \t\t                'name': 'main'\n    \t\t            })\n    \t\t\t\t}\n    \t\t\t});\n        \t},\n            logout() {\n            \tvar self = this;\n\t\t\t\tself.$store.commit(types.LOGOUT);\n            \twindow.location.href = '/classware/logout/';\n            },\n            clickFullscreen() {\n   \t\t\t\tthis.$parent.fullScreen();\n    \t\t}\n        }\n    }\n\n",{"version":3,"sources":["header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"header.vue","sourceRoot":"src/components/base","sourcesContent":["<template>\n\t<div class=\"app-header\">\n\t\t<div class=\"header-logo\">\n\t          <img class=\"logo\" src=\"../../assets/images/title_logo.png\"/>\n        </div>\n      \n      <div class=\"nav-status hide\" v-if=\"$store.state.user.id\">;\n     \t\t<div class=\"username\"> {{$store.state.user.username}} </div>\n\t\t\t<div class=\"expired-time\">{{$t('message.expired_time')}}：{{$store.state.user.expire_date}}</div>\n\t\t\t<div class=\"logout\"><el-button class=\"logout-btn\" size=\"mini\" @click=\"logout\" plain>{{$t('message.logout')}}</el-button></div>\n      </div>\n      \n      <div class=\"nav-status\" v-if=\"$store.state.user && $store.state.user.id\">\n        \t<div class=\"quanping\" :title=\"$t('message.fullscreen')\"><i class=\"iconfont icon-quanping\" @click=\"clickFullscreen\"></i></div>\n        \t<el-dropdown trigger=\"click\" class=\"test\">\n\t\t    \t<span class=\"account-info\">\n\t\t      \t\t<i class=\"iconfont icon-user-info hide\" ></i>\n\t\t        \t{{$store.state.user.username}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\n\t\t    \t</span>\n\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\n\t\t\t\t\t<el-dropdown-item><div class=\"nav-my-item\"><i class=\"iconfont icon-expired\"></i>{{$t('message.expired_time')}}：{{$store.state.user.expire_date}}</div></el-dropdown-item>\n\t\t        \t<el-dropdown-item><div class=\"nav-my-item\" @click=\"logout\"><i class=\"iconfont icon-logout\"></i>{{$t('message.logout')}}</div></el-dropdown-item>\n\t\t    \t</el-dropdown-menu>\n\t\t\t</el-dropdown>\n\t\t</div>\n      \n      \n      \n    </div>\t\n</template>\n\n<script>\n\timport * as types from '@/store/mutation-types.js'\n\timport http from '@/fetch/http.js'\n\timport router from '@/router'\n    export default {\n    \tname:'header_box',\n    \tdata(){\n            return{\n            }\n        },\n        created: function(){\n        \tthis.init()\n    \t},\n        methods: {\n        \tinit(){\n        \t\tvar self = this;\n        \t\tvar url = \"/common/curuser/\";\n    \t\t\thttp.get(url).then(res => {\n    \t\t\t\tif(res.response=='expired'){\n    \t\t\t\t\tself.$store.commit(types.LOGOUT);\n    \t            \twindow.location.href = '/logout/';\n    \t\t\t\t}else if(res.user && res.user.id){\n    \t\t\t\t\tself.$store.commit(types.LOGIN, {'user': res.user});\n    \t\t\t\t\tself.$i18n.locale = res.user.language;\n    \t\t\t\t\trouter.push({\n    \t\t                'name': 'main'\n    \t\t            })\n    \t\t\t\t}\n    \t\t\t});\n        \t},\n            logout() {\n            \tvar self = this;\n\t\t\t\tself.$store.commit(types.LOGOUT);\n            \twindow.location.href = '/classware/logout/';\n            },\n            clickFullscreen() {\n   \t\t\t\tthis.$parent.fullScreen();\n    \t\t}\n        }\n    }\n\n</script>\n\n"]}]}